# MarketingHub AIæ©Ÿèƒ½ ç†æƒ³ã®å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

**ä½œæˆæ—¥**: 2026-01-31
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**æ ¹æ‹ **: Deep Research 15ä»¶ã®è¨¼æ‹ ã«åŸºã¥ã

---

## ğŸ¯ ãƒ“ã‚¸ãƒ§ãƒ³

**ã€ŒAIãŒé¡§å®¢ã®å¿ƒç†ã‚’ç†è§£ã—ã€æœ€é©ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§æœ€é©ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å±Šã‘ã‚‹ã€**

UTAGEã¨L-STEPã‚’è¶…ãˆã‚‹ã€æ¬¡ä¸–ä»£AIãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

---

## ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹æˆæœï¼ˆæ ¹æ‹ ä»˜ãï¼‰

| æŒ‡æ¨™ | æœŸå¾…å€¤ | æ ¹æ‹  |
|------|--------|------|
| ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡ | +23ã€œ45% | ev-011, ev-004 |
| é¡§å®¢ç¶­æŒç‡ | +25% | ev-010 (Gartner) |
| ãƒ¡ãƒ¼ãƒ«é–‹å°ç‡ | +38% | ev-013 (Salesforce) |
| ãƒªãƒ¼ãƒ‰ç²å¾—ã‚³ã‚¹ãƒˆ | -33% | ev-005 (Forrester) |
| åç›Šæˆé•·ç‡ | +10pp | ev-003 (BCG) |

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“åƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           MarketingHub AI Platform                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        AI Intelligence Layer                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚  æ„Ÿæƒ…åˆ†æ  â”‚ â”‚ è³¼è²·æ„æ¬²  â”‚ â”‚ äºˆæ¸¬åˆ†æ  â”‚ â”‚ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ â”‚           â”‚   â”‚
â”‚  â”‚  â”‚  Engine   â”‚ â”‚  Engine   â”‚ â”‚  Engine   â”‚ â”‚  ç”Ÿæˆ     â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚        â”‚             â”‚             â”‚             â”‚                   â”‚   â”‚
â”‚  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚   â”‚
â”‚  â”‚                             â”‚                                        â”‚   â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚   â”‚
â”‚  â”‚                    â”‚   Claude API    â”‚                               â”‚   â”‚
â”‚  â”‚                    â”‚   (Anthropic)   â”‚                               â”‚   â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      Automation Engine Layer                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚ ãƒˆãƒªã‚¬ãƒ¼   â”‚ â”‚  åˆ†å²     â”‚ â”‚ ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°â”‚ â”‚  A/Bãƒ†ã‚¹ãƒˆ â”‚           â”‚   â”‚
â”‚  â”‚  â”‚  æ¤œå‡º     â”‚ â”‚  ãƒ­ã‚¸ãƒƒã‚¯  â”‚ â”‚  (RFM)    â”‚ â”‚  æœ€é©åŒ–   â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                       Channel Delivery Layer                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚   LINE    â”‚ â”‚   Email   â”‚ â”‚    SMS    â”‚ â”‚   Web     â”‚           â”‚   â”‚
â”‚  â”‚  â”‚ Messaging â”‚ â”‚ (SendGrid)â”‚ â”‚           â”‚ â”‚  Push     â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      MCP Integration Layer                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚  HubSpot  â”‚ â”‚ Analytics â”‚ â”‚ Sequenzy  â”‚ â”‚  Custom   â”‚           â”‚   â”‚
â”‚  â”‚  â”‚   MCP     â”‚ â”‚   MCP     â”‚ â”‚   MCP     â”‚ â”‚   MCP     â”‚           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“… å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### Phase 0: åŸºç›¤æ•´å‚™ âœ… å®Œäº†

| ã‚¿ã‚¹ã‚¯ | çŠ¶æ…‹ | ãƒ•ã‚¡ã‚¤ãƒ« |
|--------|------|----------|
| Prismaã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ | âœ… | `prisma/schema.prisma` |
| èªè¨¼åŸºç›¤ï¼ˆClerkï¼‰ | âœ… | `src/middleware.ts` |
| åŸºæœ¬UI/UX | âœ… | 26ãƒ«ãƒ¼ãƒˆ |
| Claude AIåŸºç›¤ | âœ… | `src/lib/ai/claude.ts` |

---

### Phase 1: AIã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆ2é€±é–“ï¼‰

#### 1.1 æ„Ÿæƒ…åˆ†æã‚¨ãƒ³ã‚¸ãƒ³ âœ… å®Œäº†

```
src/lib/ai/sentiment-analyzer.ts âœ…
src/app/(dashboard)/automation/sentiment/page.tsx âœ…
```

**æ©Ÿèƒ½**:
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ„Ÿæƒ…åˆ†é¡ï¼ˆpositive/neutral/negativeï¼‰
- 13ç¨®é¡ã®æ„Ÿæƒ…æ¤œå‡º
- ãƒãƒ£ãƒ¼ãƒ³äºˆå…†ã‚¢ãƒ©ãƒ¼ãƒˆ
- ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¨å¥¨

#### 1.2 è³¼è²·æ„æ¬²åˆ†æã‚¨ãƒ³ã‚¸ãƒ³ âœ… å®Œäº†

```
src/lib/ai/intent-analyzer.ts âœ…
src/app/(dashboard)/automation/intent/page.tsx âœ…
```

**æ©Ÿèƒ½**:
- è³¼è²·æ„æ¬²ã‚¹ã‚³ã‚¢ï¼ˆ0-100ï¼‰
- 5æ®µéšã®æ„æ¬²ãƒ¬ãƒ™ãƒ«åˆ†é¡
- å¿ƒç†çš„éšœå£æ¤œå‡ºï¼ˆä¾¡æ ¼/ä¿¡é ¼/ã‚¿ã‚¤ãƒŸãƒ³ã‚°ç­‰ï¼‰
- è‡ªå‹•åˆ†å²æ¨å¥¨

#### 1.3 RFMåˆ†æãƒ»ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚° âœ… å®Œäº†

```
src/lib/analytics/rfm.ts âœ…
src/lib/ai/scoring.ts âœ…
```

**æ©Ÿèƒ½**:
- RFMè‡ªå‹•è¨ˆç®—
- 11ã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†é¡
- ãƒªãƒ¼ãƒ‰ã‚¹ã‚³ã‚¢ï¼ˆ0-100ï¼‰
- Hot/Warm/Cold/Frozenãƒ†ã‚£ã‚¢

#### 1.4 ãƒˆãƒªã‚¬ãƒ¼ãƒ»åˆ†å²ã‚¨ãƒ³ã‚¸ãƒ³ âœ… å®Œäº†

```
src/lib/ai/trigger-engine.ts âœ…
src/lib/ai/branching.ts âœ…
```

**æ©Ÿèƒ½**:
- 15ç¨®é¡ã®ãƒˆãƒªã‚¬ãƒ¼æ¤œå‡º
- AIåˆ¤æ–­åˆ†å²
- A/Bãƒ†ã‚¹ãƒˆåˆ†å²
- å®Ÿè¡Œè¨ˆç”»ç”Ÿæˆ

---

### Phase 2: AIã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆï¼ˆ1é€±é–“ï¼‰ğŸ†•

#### 2.1 ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³

```
src/lib/ai/content-generator.ts ğŸ†•
```

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
```typescript
// ãƒ¡ãƒ¼ãƒ«ä»¶åç”Ÿæˆ
generateEmailSubject(context: ContentContext): Promise<string[]>

// ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ç”Ÿæˆ
generateEmailBody(template: string, context: ContentContext): Promise<string>

// LINEãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ
generateLineMessage(context: ContentContext): Promise<string>

// ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆï¼ˆA/Bãƒ†ã‚¹ãƒˆç”¨ï¼‰
generateVariations(base: string, count: number): Promise<string[]>

// ãƒˆãƒ¼ãƒ³èª¿æ•´
adjustTone(content: string, tone: 'formal' | 'casual' | 'urgent'): Promise<string>
```

#### 2.2 ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”ŸæˆUI

```
src/app/(dashboard)/ai/content/page.tsx ğŸ†•
```

**ç”»é¢æ§‹æˆ**:
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼ˆã‚»ã‚°ãƒ¡ãƒ³ãƒˆã€ç›®çš„ã€ãƒˆãƒ¼ãƒ³ï¼‰
- AIç”Ÿæˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³æ¯”è¼ƒ
- ç”Ÿæˆå±¥æ­´

---

### Phase 3: äºˆæ¸¬åˆ†æï¼ˆ1é€±é–“ï¼‰ğŸ†•

#### 3.1 äºˆæ¸¬åˆ†æã‚¨ãƒ³ã‚¸ãƒ³

```
src/lib/ai/predictive-engine.ts ğŸ†•
```

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
```typescript
// ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºç‡äºˆæ¸¬
predictConversionProbability(contactId: string): Promise<{
  probability: number;
  confidence: number;
  factors: string[];
}>

// ãƒãƒ£ãƒ¼ãƒ³ãƒªã‚¹ã‚¯äºˆæ¸¬
predictChurnRisk(contactId: string): Promise<{
  risk: number;
  timeframe: string;
  signals: string[];
}>

// LTVäºˆæ¸¬
predictLifetimeValue(contactId: string): Promise<{
  value: number;
  confidence: number;
  segment: string;
}>

// æœ€é©é€ä¿¡æ™‚é–“äºˆæ¸¬
predictBestSendTime(contactId: string): Promise<{
  hour: number;
  dayOfWeek: number;
  confidence: number;
}>

// æ¬¡ã®ãƒ™ã‚¹ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ¨å¥¨
recommendNextAction(contactId: string): Promise<{
  action: string;
  channel: string;
  message: string;
  timing: Date;
}>
```

#### 3.2 äºˆæ¸¬ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰UI

```
src/app/(dashboard)/ai/predictions/page.tsx ğŸ†•
```

**ç”»é¢æ§‹æˆ**:
- ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³äºˆæ¸¬ãƒªã‚¹ãƒˆ
- ãƒãƒ£ãƒ¼ãƒ³ãƒªã‚¹ã‚¯ã‚¢ãƒ©ãƒ¼ãƒˆ
- LTVã‚»ã‚°ãƒ¡ãƒ³ãƒˆåˆ†å¸ƒ
- äºˆæ¸¬ç²¾åº¦ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

---

### Phase 4: A/Bãƒ†ã‚¹ãƒˆè‡ªå‹•æœ€é©åŒ–ï¼ˆ1é€±é–“ï¼‰ğŸ†•

#### 4.1 A/Bãƒ†ã‚¹ãƒˆã‚¨ãƒ³ã‚¸ãƒ³

```
src/lib/ai/ab-optimizer.ts ğŸ†•
```

**å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½**:
```typescript
// Multi-Armed Banditå®Ÿè£…
class MultiArmedBandit {
  selectVariant(testId: string): string
  recordResult(testId: string, variantId: string, converted: boolean): void
  getWinner(testId: string): { variantId: string; confidence: number }
}

// çµ±è¨ˆçš„æœ‰æ„æ€§åˆ¤å®š
calculateSignificance(variantA: Stats, variantB: Stats): {
  significant: boolean;
  confidence: number;
  winner: string;
}

// è‡ªå‹•å‹è€…æ±ºå®š
autoSelectWinner(testId: string): Promise<{
  winnerId: string;
  reason: string;
  metrics: Record<string, number>;
}>
```

#### 4.2 A/Bãƒ†ã‚¹ãƒˆUI

```
src/app/(dashboard)/automation/ab-tests/page.tsx ğŸ†•
```

**ç”»é¢æ§‹æˆ**:
- ãƒ†ã‚¹ãƒˆä½œæˆã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çµæœè¡¨ç¤º
- ãƒãƒªã‚¢ãƒ³ãƒˆæ¯”è¼ƒã‚°ãƒ©ãƒ•
- è‡ªå‹•å‹è€…é€šçŸ¥

---

### Phase 5: MCPçµ±åˆï¼ˆ2é€±é–“ï¼‰ğŸ†•

#### 5.1 HubSpot MCPé€£æº

```
src/lib/mcp/hubspot.ts ğŸ†•
```

**æ©Ÿèƒ½**:
- ã‚³ãƒ³ã‚¿ã‚¯ãƒˆåŒæ–¹å‘åŒæœŸ
- ãƒ‡ã‚£ãƒ¼ãƒ«è‡ªå‹•ä½œæˆ
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°åŒæœŸ
- ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒãƒƒãƒ”ãƒ³ã‚°

**è¨­å®š**:
```bash
claude mcp add --scope project hubspot https://api.hubspot.com/mcp
```

#### 5.2 Analytics MCPé€£æº

```
src/lib/mcp/analytics.ts ğŸ†•
```

**æ©Ÿèƒ½**:
- GA4ãƒ‡ãƒ¼ã‚¿å–å¾—
- ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿½è·¡
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ

#### 5.3 Sequenzy MCPé€£æº

```
src/lib/mcp/sequenzy.ts ğŸ†•
```

**æ©Ÿèƒ½**:
- AIãƒ¡ãƒ¼ãƒ«ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ç”Ÿæˆ
- è³¼èª­è€…ç®¡ç†åŒæœŸ

---

### Phase 6: é«˜åº¦ãªè‡ªå‹•åŒ–ï¼ˆ2é€±é–“ï¼‰ğŸ†•

#### 6.1 ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ“ãƒ«ãƒ€ãƒ¼

```
src/app/(dashboard)/automation/journeys/page.tsx ğŸ†•
src/components/automation/journey-builder.tsx ğŸ†•
```

**æ©Ÿèƒ½**:
- ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—UI
- æ¡ä»¶åˆ†å²ãƒãƒ¼ãƒ‰
- AIåˆ¤æ–­ãƒãƒ¼ãƒ‰
- ãƒãƒ«ãƒãƒãƒ£ãƒãƒ«ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

#### 6.2 AIã‚ªãƒ¼ãƒˆãƒ‘ã‚¤ãƒ­ãƒƒãƒˆ

```
src/lib/ai/autopilot.ts ğŸ†•
```

**æ©Ÿèƒ½**:
- å®Œå…¨è‡ªå‹•é‹ç”¨ãƒ¢ãƒ¼ãƒ‰
- ç•°å¸¸æ¤œçŸ¥ãƒ»è‡ªå‹•åœæ­¢
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è‡ªå‹•æœ€é©åŒ–
- äººé–“ã¸ã®ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åˆ¤æ–­

---

## ğŸ“ æœ€çµ‚ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ claude.ts              âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ trigger-engine.ts      âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ scoring.ts             âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ branching.ts           âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ intent-analyzer.ts     âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ sentiment-analyzer.ts  âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ content-generator.ts   ğŸ†• Phase 2
â”‚   â”‚   â”œâ”€â”€ predictive-engine.ts   ğŸ†• Phase 3
â”‚   â”‚   â”œâ”€â”€ ab-optimizer.ts        ğŸ†• Phase 4
â”‚   â”‚   â””â”€â”€ autopilot.ts           ğŸ†• Phase 6
â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â””â”€â”€ rfm.ts                 âœ… å®Œäº†
â”‚   â””â”€â”€ mcp/
â”‚       â”œâ”€â”€ hubspot.ts             ğŸ†• Phase 5
â”‚       â”œâ”€â”€ analytics.ts           ğŸ†• Phase 5
â”‚       â””â”€â”€ sequenzy.ts            ğŸ†• Phase 5
â”œâ”€â”€ app/(dashboard)/
â”‚   â”œâ”€â”€ automation/
â”‚   â”‚   â”œâ”€â”€ page.tsx               âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ intent/page.tsx        âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ sentiment/page.tsx     âœ… å®Œäº†
â”‚   â”‚   â”œâ”€â”€ ab-tests/page.tsx      ğŸ†• Phase 4
â”‚   â”‚   â””â”€â”€ journeys/page.tsx      ğŸ†• Phase 6
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ content/page.tsx       ğŸ†• Phase 2
â”‚       â””â”€â”€ predictions/page.tsx   ğŸ†• Phase 3
â””â”€â”€ components/
    â””â”€â”€ automation/
        â””â”€â”€ journey-builder.tsx    ğŸ†• Phase 6
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¿½åŠ ãƒ¢ãƒ‡ãƒ«

```prisma
// Phase 2: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ
model GeneratedContent {
  id            String   @id @default(cuid())
  tenantId      String
  type          String   // email_subject, email_body, line_message
  input         Json
  output        String
  usedCount     Int      @default(0)
  openRate      Float?
  clickRate     Float?
  generatedAt   DateTime @default(now())
}

// Phase 3: äºˆæ¸¬ãƒ­ã‚°
model PredictionLog {
  id            String   @id @default(cuid())
  contactId     String
  type          String   // conversion, churn, ltv, send_time
  score         Float
  confidence    Float
  factors       Json
  actualOutcome Boolean?
  predictedAt   DateTime @default(now())
}

// Phase 4: A/Bãƒ†ã‚¹ãƒˆ
model ABTest {
  id            String   @id @default(cuid())
  tenantId      String
  name          String
  status        String   @default("draft")
  variants      Json
  results       Json?
  winnerId      String?
  algorithm     String   @default("epsilon_greedy")
  createdAt     DateTime @default(now())
}

// Phase 1: æ„Ÿæƒ…åˆ†æï¼ˆè¿½åŠ ï¼‰
model SentimentAnalysis {
  id            String   @id @default(cuid())
  contactId     String
  messageId     String?
  sentiment     String
  score         Float
  emotions      Json
  churnSignal   Boolean  @default(false)
  escalated     Boolean  @default(false)
  analyzedAt    DateTime @default(now())
}
```

---

## ğŸ”§ ç’°å¢ƒå¤‰æ•°

```env
# AI
ANTHROPIC_API_KEY=sk-ant-...
AI_MODEL=claude-sonnet-4-20250514
AI_MAX_TOKENS=1000

# MCP
HUBSPOT_MCP_URL=https://...
HUBSPOT_ACCESS_TOKEN=...
ANALYTICS_MCP_URL=https://...
SEQUENZY_API_KEY=...

# Feature Flags
ENABLE_SENTIMENT_ANALYSIS=true
ENABLE_CONTENT_GENERATION=true
ENABLE_PREDICTIVE_ANALYTICS=true
ENABLE_AB_TESTING=true
ENABLE_AUTOPILOT=false
```

---

## ğŸ“ˆ KPIãƒ»ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### è¿½è·¡ã™ã¹ãæŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™ | è¨ˆæ¸¬æ–¹æ³• |
|------|------|----------|
| AIäºˆæ¸¬ç²¾åº¦ | >85% | äºˆæ¸¬ vs å®Ÿç¸¾ã®æ¯”è¼ƒ |
| æ„Ÿæƒ…åˆ†æç²¾åº¦ | >80% | ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°æ¤œè¨¼ |
| A/Bãƒ†ã‚¹ãƒˆå‹ç‡ | >60% | å‹è€…é¸æŠã®æ­£ç¢ºã• |
| APIä½¿ç”¨é‡ | äºˆç®—å†… | Claude APIä½¿ç”¨é‡è¿½è·¡ |
| ã‚¨ãƒ©ãƒ¼ç‡ | <5% | ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç›£è¦– |

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

```
/analytics/ai-performance ğŸ†•
```

- AIæ©Ÿèƒ½åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ã‚³ã‚¹ãƒˆè¿½è·¡
- ç²¾åº¦ãƒˆãƒ¬ãƒ³ãƒ‰
- ã‚¨ãƒ©ãƒ¼åˆ†æ

---

## ğŸš€ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### ä»Šã™ãï¼ˆPhase 2é–‹å§‹ï¼‰
1. `content-generator.ts` ã®å®Ÿè£…
2. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”ŸæˆUIã®ä½œæˆ
3. Prismaã‚¹ã‚­ãƒ¼ãƒæ›´æ–°

### ä»Šé€±ä¸­
4. äºˆæ¸¬åˆ†æã‚¨ãƒ³ã‚¸ãƒ³ã®å®Ÿè£…
5. A/Bãƒ†ã‚¹ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã®å®Ÿè£…

### æ¥é€±
6. MCPé€£æºã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
7. ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ“ãƒ«ãƒ€ãƒ¼UI

---

**ã“ã®è¨ˆç”»ã§é€²ã‚ã¾ã™ã‹ï¼Ÿã¾ãŸã¯èª¿æ•´ãŒå¿…è¦ã§ã™ã‹ï¼Ÿ**
